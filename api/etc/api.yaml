Name: api-gateway
Host: 0.0.0.0
Port: 8888

# Logging configuration
Log:
  ServiceName: api-gateway
  Mode: file
  Path: logs
  Level: info
  Compress: true
  KeepDays: 7
  StackCooldownMillis: 100

# Database configuration
Database:
  Type: postgres

  # PostgreSQL configuration
  Postgres:
    Host: ${DATABASE_HOST:-localhost}
    Port: 5432  # Use default value directly, env var substitution may cause type mismatch
    User: ${DATABASE_USER:-postgres}
    Password: ${DATABASE_PASSWORD:-postgres}
    Database: ${DATABASE_NAME:-gozero_template}
    SSLMode: ${DATABASE_SSLMODE:-disable}
    MaxOpenConns: 100
    MaxIdleConns: 10
    ConnMaxLifetime: 3600s
    ConnMaxIdleTime: 600s

# Redis cache configuration
Redis:
  Host: ${REDIS_HOST:-localhost}
  Port: 6379  # Use default value directly, env var substitution may cause type mismatch
  Password: ${REDIS_PASSWORD:-}
  DB: 0  # Use default value directly, env var substitution may cause type mismatch
  PoolSize: 10  # Use default value directly, env var substitution may cause type mismatch

# RabbitMQ message queue configuration
RabbitMQ:
  Host: ${RABBITMQ_HOST:-localhost}
  Port: 5672  # Use default value directly, env var substitution may cause type mismatch
  User: ${RABBITMQ_USER:-guest}
  Password: ${RABBITMQ_PASSWORD:-guest}
  VHost: ${RABBITMQ_VHOST:-/}

# Zitadel OAuth2 configuration
Zitadel:
  Issuer: ${ZITADEL_ISSUER:-https://your-zitadel-instance.com}
  ClientID: ${ZITADEL_CLIENT_ID:-your-client-id}
  ClientSecret: ${ZITADEL_CLIENT_SECRET:-your-client-secret}
  Scopes:
    - openid
    - profile
    - email

# gRPC service endpoints
UserRpc:
  Etcd:
    Hosts:
      - ${USER_RPC_HOST:-localhost:9000}
    Key: user.rpc
  # Or use direct connection:
  # Target: ${USER_RPC_TARGET:-localhost:9000}
  Timeout: 5000
  NonBlock: true

# Prometheus metrics
Prometheus:
  Host: 0.0.0.0
  Port: 9091
  Path: /metrics

